{
  "name": "k8s-pod-network",
  "cniVersion": "0.3.0",
  "plugins": [
    {
      "type": "calico",
      "etcd_endpoints": "{{ etcd_endpoints }}",
      "etcd_key_file": "{{ kube_certs_dir }}/etcd-key.pem",
      "etcd_cert_file": "{{ kube_certs_dir }}/etcd.pem",
      "etcd_ca_cert_file": "{{ kube_certs_dir }}/ca.pem",
      "log_level": "info",
      "mtu": 1500,
      "ipam": {
          "type": "calico-ipam"
      },
      "policy": {
          "type": "k8s"
      },
      "kubernetes": {
          "kubeconfig": "{{ kube_certs_dir }}/kubelet.kubeconfig"
      }
    },
    {
      "type": "portmap",
      "snat": true,
      "capabilities": {"portMappings": true}
    }
  ]
}
